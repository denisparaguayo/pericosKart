---
import MainLayout from '../../layouts/MainLayout.astro';
import { drivers } from '../../lib/data';

// opcional: ordenarlos por número o nombre
const sortedDrivers = [...drivers].sort((a, b) => a.number - b.number);
---

<MainLayout title="Pilotos · Kart Amateur">
	<section class="mb-6">
		<h1 class="text-2xl font-semibold tracking-tight sm:text-3xl">Pilotos</h1>
		<p class="mt-2 text-sm text-slate-300">
			Lista de todos los pilotos de la liga amateur, cada uno con su ficha y
			resultados individuales.
		</p>
	</section>

	<section class="grid gap-4 sm:grid-cols-2 md:grid-cols-3">
		{
			sortedDrivers.map((d) => (
				<a
					href={`/pilotos/${d.id}`}
					class="group flex flex-col overflow-hidden rounded-xl border border-slate-800 bg-[#0b0b19] hover:border-fuchsia-500/70 hover:bg-slate-900/80 transition">
					{d.photo && (
						<div class="aspect-[16/10] overflow-hidden">
							<img
								src={d.photo}
								alt={d.name}
								class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"
								loading="lazy"
							/>
						</div>
					)}
					<div class="flex flex-1 flex-col gap-1 px-3 py-3">
						<div class="flex items-center justify-between text-xs text-slate-400">
							<span class="inline-flex items-center gap-1">
								<span class="h-2 w-2 rounded-full bg-emerald-500" />
								{d.team}
							</span>
							<span class="font-mono text-[11px] text-slate-500">
								#{d.number}
							</span>
						</div>
						<p class="text-sm font-semibold text-slate-100">{d.name}</p>
						{(d.city || d.country) && (
							<p class="text-[11px] text-slate-400">
								{d.city && `${d.city} · `}
								{d.country}
							</p>
						)}
						{d.helmetColor && (
							<p class="mt-1 line-clamp-2 text-[11px] text-slate-400">
								Casco: {d.helmetColor}
							</p>
						)}
					</div>
				</a>
			))
		}
	</section>
</MainLayout>
